(function(e){function d(){var c=this;c.xhr=new XMLHttpRequest;c.request=function(a){var b={url:a.hasOwnProperty("url")?a.url:"",method:a.hasOwnProperty("method")?a.method:"get",json:a.hasOwnProperty("json")?a.json:!1,body:a.hasOwnProperty("body")?a.body:null,timeout:a.hasOwnProperty("timeout")?a.timeout:0,headers:a.hasOwnProperty("headers")?a.headers:void 0,username:a.hasOwnProperty("username")?a.username:"",password:a.hasOwnProperty("password")?a.password:"",async:a.hasOwnProperty("async")?a.async:
!0,success:a.hasOwnProperty("success")?a.success:void 0,error:a.hasOwnProperty("error")?a.error:void 0};if("function"===typeof b.success)if("function"===typeof b.error)if(c.xhr.addEventListener("abort",function(a){console.log("[SeXHR]: Request aborted");b.success({aborted:!0})},!1),c.xhr.addEventListener("error",function(a){console.error("[SeXHR]: Request error");b.error({error:!0})},!1),c.xhr.addEventListener("load",function(a){a={text:c.xhr.responseText,status:c.xhr.status};b.json&&(a.json=JSON.parse(c.xhr.responseText));
console.log("[SeXHR]: Request loaded");100<a.status&&400>a.status?b.success(a):b.error(a)},!1),c.xhr.addEventListener("loadstart",function(a){console.log("[SeXHR]: Request initiated")},!1),c.xhr.addEventListener("progress",function(a){var b;a.lengthComputable&&(b=a.loaded/a.total*100,console.log("[SeXHR]: Request progress "+b+"% ("+a.loaded+" bytes / "+a.total+" bytes)"))},!1),c.xhr.addEventListener("timeout",function(a){console.log("[SeXHR]: Request timed out");b.error({timeout:!0})},!1),c.xhr.addEventListener("loadend",
function(a){console.log("[SeXHR]: Request complete")},!1),""!==b.url){b.username&&b.password?c.xhr.open(b.method,b.url,b.async,b.username,b.password):c.xhr.open(b.method,b.url,b.async);if(b.headers){a=Object.keys(b.headers);for(var d in a)c.xhr.setRequestHeader(a[d],b.headers[a[d]])}0<b.timeout&&!0===b.async&&(c.xhr.timeout=b.timeout);c.xhr.send(b.body)}else console.error("[SeXHR]: No request URL given");else console.error("[SeXHR]: No request `error` handler given");else console.error("[SeXHR]: No request `success` handler given")};
c.abort=function(a){1===a.length&&"number"===typeof a[0]?window.setTimeout(c.xhr.abort(),a[0]):c.xhr.abort()}}d.prototype.request=function(c){this.request(c)};d.prototype.cancel=function(){this.abort(arguments)};e.SeXHR=d;e.sexhr=d})(window);